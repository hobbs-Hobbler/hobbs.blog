<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>My Privacy Policy - Cogitate and Percolate </title>
        <meta name="description" content="With the results of the United States Presidential Election in November 2024, there was a tectonic shift in the thinking of individuals that do want to speak truth to power, but also do not want to be unwise in the act. My blog is primarily&hellip;">
         
        <meta name="generator" content="Publii Open-Source CMS for Static Site">

        <link rel="canonical" href="https://hobbs-hobbler.github.io/hobbs.blog/my-privacy-policy.html">
        <link rel="alternate" type="application/atom+xml" href="https://hobbs-hobbler.github.io/hobbs.blog/feed.xml" title="Cogitate and Percolate - RSS">
<link rel="alternate" type="application/json" href="https://hobbs-hobbler.github.io/hobbs.blog/feed.json" title="Cogitate and Percolate - JSON">

        <meta property="og:title" content="My Privacy Policy"><meta property="og:image" content="https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/sasun-bughdaryan-8admGA18lBs-unsplash.jpg"><meta property="og:image:width" content="5616"><meta property="og:image:height" content="3744"><meta property="og:site_name" content="Cogitate and Percolate"><meta property="og:description" content="With the results of the United States Presidential Election in November 2024, there was a tectonic shift in the thinking of individuals that do want to speak truth to power, but also do not want to be unwise in the act. My blog is primarily&hellip;"><meta property="og:url" content="https://hobbs-hobbler.github.io/hobbs.blog/my-privacy-policy.html"><meta property="og:type" content="article">
	        <link rel="shortcut icon" href="https://hobbs-hobbler.github.io/hobbs.blog/media/website/Favicon.png" type="image/x-icon" />
        
        <link rel="stylesheet" href="https://hobbs-hobbler.github.io/hobbs.blog/assets/css/style.css?v=a0adcc9d7255906999e646d8f63eb45b">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://hobbs-hobbler.github.io/hobbs.blog/my-privacy-policy.html"},"headline":"My Privacy Policy","datePublished":"2025-07-21T18:23-04:00","dateModified":"2025-07-21T18:29-04:00","image":{"@type":"ImageObject","url":"https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/sasun-bughdaryan-8admGA18lBs-unsplash.jpg","height":3744,"width":5616},"description":"With the results of the United States Presidential Election in November 2024, there was a tectonic shift in the thinking of individuals that do want to speak truth to power, but also do not want to be unwise in the act. My blog is primarily&hellip;","author":{"@type":"Person","name":"Heather Dodds","url":"https://hobbs-hobbler.github.io/hobbs.blog/authors/heather-dodds/"},"publisher":{"@type":"Organization","name":"Heather Dodds","logo":{"@type":"ImageObject","url":"https://hobbs-hobbler.github.io/hobbs.blog/media/website/HD-Logo-Mountain-Sept-2022.png","height":500,"width":500}}}</script>
        <noscript>
            <style>
                img[loading] {
                    opacity: 1;
                }
            </style>
        </noscript>	
        
    </head>
    <body class="post-template">
        <header class="top js-header">
   <a class="logo" href="https://hobbs-hobbler.github.io/hobbs.blog/index.html">
         <img src="https://hobbs-hobbler.github.io/hobbs.blog/media/website/HD-Logo-Mountain-Sept-2022.png" alt="Cogitate and Percolate" width="500" height="500">
   </a>
         <nav class="navbar js-navbar">
            <button
               class="navbar__toggle js-toggle"
               aria-label="Menu"
               aria-haspopup="true"
               aria-expanded="false">
               <span class="navbar__toggle-box">
                  <span class="navbar__toggle-inner">Menu</span>
               </span>
            </button>
          <ul class="navbar__menu">
          </ul>
         </nav>
</header>
<main class="post">
      <article class="content">
         <div class="hero ">
            <header class="hero__content ">
               <div class="wrapper">
                  <h1>My Privacy Policy</h1>
                     <div class="feed__meta content__meta  ">
                                 <img 
                                    src="https://hobbs-hobbler.github.io/hobbs.blog/media/website/calvin-and-hobbesJPEGsquare.JPG" 
                                     loading="eager"
                                    height="1047"
                                    width="1047"
                                    class="feed__author-thumb" 
                                    alt="">
                              <a href="https://hobbs-hobbler.github.io/hobbs.blog/authors/heather-dodds/index.html" class="feed__author">Heather Dodds</a>

                           <time datetime="2025-07-21T18:23" class="feed__date">
                                 July 21, 2025
                           </time>
                     </div>
                </div>
            </header>

                  <figure class="hero__image">  
                     <div class="hero__image-wrapper">                    
                        <img
                           src="https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/sasun-bughdaryan-8admGA18lBs-unsplash.jpg"
                              srcset="https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/responsive/sasun-bughdaryan-8admGA18lBs-unsplash-xs.jpg 640w ,https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/responsive/sasun-bughdaryan-8admGA18lBs-unsplash-sm.jpg 768w ,https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/responsive/sasun-bughdaryan-8admGA18lBs-unsplash-md.jpg 1024w ,https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/responsive/sasun-bughdaryan-8admGA18lBs-unsplash-lg.jpg 1366w ,https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/responsive/sasun-bughdaryan-8admGA18lBs-unsplash-xl.jpg 1600w ,https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740/responsive/sasun-bughdaryan-8admGA18lBs-unsplash-2xl.jpg 1920w" sizes="88vw"
                            loading="eager"
                           height="3744"
                           width="5616"
                           alt="">
                        </div>
                      
                        <figcaption>
                           
                           Photo by Sasun Bughdaryan on Unsplash
                        </figcaption>                      
                  </figure>
         </div>

         <div class="entry-wrapper content__entry">           
            <p>With the results of the United States Presidential Election in November 2024, there was a tectonic shift in the thinking of individuals that do want to speak truth to power, but also do not want to be unwise in the act. My blog is primarily about speaking the truth about XR for learning around and despite some very powerful companies and a few personal enemies.<br><br>I'm old enough that the lessons of World War II are not lost on me.  The time period between November 2024 and this blog going live in June/July 2025 has caused many to harken of 1920s Germany. Indeed, several new phrases have been circulating in my head.<br><br><a href="https://snyder.substack.com/p/twenty-lessons-read-by-john-lithgow" target="_blank" rel="nofollow noopener noreferrer">Do not obey in advance</a> is one.<br><br>But another idea is <strong>to not give up my data</strong>, even if I'm utilizing my free speech rights as a US citizen. The idea that one would not be caught up in being arrested or worst <em>if</em> one is doing nothing wrong...is behind us. The monster eats and it eats anyone it can get.</p>
<figure class="d1fekHMv2WPYZzgPAV7b"><img  src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fbecunningandfulloftricks.com%2Fwp-content%2Fuploads%2F2014%2F09%2Fbe-cunning-and-full-of-tricks-header.jpg&amp;f=1&amp;nofb=1&amp;ipt=9ae1bc74285160c271a98a773ad982ccdd52c376fea91049e584a8ef12a627f8" alt="Be Cunning and Full of Tricks | Exploring Knowledge Management, Online Communities and Virtual ..." loading="eager" data-is-external-image="true"></figure>
<div class="quoteDetails">
<blockquote>
<div class="quoteText">“...Whenever they catch you, they will kill you. But first they must catch you, digger, listener, runner, prince with the swift warning. <strong>Be cunning and full of tricks</strong>...” <br>― <span class="authorOrTitle"> Richard Adams, Watership Down</span></div>
</blockquote>
</div>
<p><br>That idea lead me to the lovely <a href="https://www.optoutproject.net/" target="_blank" rel="nofollow noopener noreferrer">Opt Out Project blog</a>.<br><br>Even though I had no direct reason for jumping ship from blogger/blogspot...how MUCH big tech is scraping personal accounts for data now just friggin scares me.  I left Twitter/X because of their new policy so take anything anyone posts as food for their AI.  I create and share my creations. I was like...uh, no, you are not free to take my stuff.  So I left, deleting everything in my wake.</p>
<figure class="post__image align-center"><img loading="lazy"  src="https://hobbs-hobbler.github.io/hobbs.blog/media/posts/740//star-trek-spock-live-long-and-prosper.gif" alt="Gif of Spock saying Live long and prosper when by his face he means fuck off." width="498" height="211"></figure><br><br>Leaving blogger/blogspot is another in the steps I'm taking to get away from big tech.<br><br>So that means that you have arrived here. It took me 4 months to get this blog up and running.  To the best of my ability, here is what it does.<br><br>1. <strong>I don't care about number counting reads</strong>. Read counts stoke vanity. I've also never activated replies to my posts. If you want to respond, do so on your own blog, thankyouverymuch. 🧐 I try very hard to not count nor look at the numbers of anything I create.  It's not. about. the. numbers. 🚫🔢<br><br>2. This blog is hosted on Github Pages, which is at this time a Microsoft product. <strong>I encourage you to visit using a VPN</strong> because they are probably tracking IPs, but I do not receive the information. <strong>I do not have ANY analytics</strong> that I have activated on this blog.  <br><br>3. I'm using Publii and since I only post blog posts and nothing else (no stores, no forms, no mailing lists...I guess the kids call this static HTML now) <strong>I do not plan on adding ANY plugins</strong>. I'm using a basic theme available from Publii.  I'll let you know here and in the cookie banner if that changes in the future.<br><br>4. I'm going to attempt to set up the cookie banner to be meaningless for collecting anything and to strongly encourage you to Reject cookies. Let's hope I figure that out.</p>
<p>Oh and one more thing, <strong>I do not monetize anything here</strong>. Nothing.  By willingly turning my back on all forms of monetization, I'm never working for someone else that will show up as bias in my writing.<br><br>As Opt Out Project writes: <strong>No trackers. No fingerprints. No data collection.</strong><br><br>Let us all live long and prosper.</p>            
         </div>

            <footer class="content__footer">
               <div class="entry-wrapper">
                        <p class="content__updated">
                           This article was updated on
                              July 21, 2025
                        </p>

                     <div class="content__actions">
                              <ul class="content__tag">
                                    <li>
                                       <a href="https://hobbs-hobbler.github.io/hobbs.blog/tags/policy/index.html">policy</a>
                                    </li>
                                    <li>
                                       <a href="https://hobbs-hobbler.github.io/hobbs.blog/tags/privacy/index.html">privacy</a>
                                    </li>
                              </ul>

                           <div class="content__share">
                              <button class="btn--icon content__share-button js-content__share-button">
                                 <svg width="20" height="20" aria-hidden="true">
                                       <use xlink:href="https://hobbs-hobbler.github.io/hobbs.blog/assets/svg/svg-map.svg#share"></use>
                                 </svg> 
                                 <span>Share It</span>
                              </button>
                                 <div class="content__share-popup js-content__share-popup">
                                    
                                    
                                    
                                    
                                    
                                    
                                 </div>
                           </div>       
                     </div>

                     <div class="content__bio bio">
                              <img 
                                 src="https://hobbs-hobbler.github.io/hobbs.blog/media/website/calvin-and-hobbesJPEGsquare.JPG" 
                                  loading="lazy"
                                 height="1047"
                                 width="1047" 
                                 class="bio__avatar" 
                                 alt="">                          
                           <div>
                              <h3 class="h4 bio__name">
                                 <a href="https://hobbs-hobbler.github.io/hobbs.blog/authors/heather-dodds/index.html" rel="author">Heather Dodds</a>
                              </h3>
                                 <div class="bio__desc">
                                    <p>Heather Dodds</p>
<p>Independent Scholar</p>
<p>XR Learning Experience Researcher and Designer</p>
<p>Instructional Design</p>
<p>Freelance</p>
<p>New Yorker</p>
<p>Follower of Jesus</p>
                                 </div>
                           </div>
                     </div>
               </div>

                     <nav class="content__nav">
                        <div class="wrapper">
                           <div class="content__nav-inner">
                                 <div class="content__nav-prev">
                                    <a href="https://hobbs-hobbler.github.io/hobbs.blog/part-6-myth-immersive-learning-is-active-learning.html" class="content__nav-link" rel="prev">
                                             <figure class="content__nav-image">
                                                <img 
                                                      src="https://hobbs-hobbler.github.io/hobbs.blog/media/posts/722/responsive/Immersive-Learning-is-not-necessarily-active-learning1-xs.png"
                                                   class="lazyload"
                                                    loading="lazy" 
                                                   alt="" 
                                                   height="1080" 
                                                   width="1080">
                                              </figure>                    
                                       <div>
                                          <span>Previous</span>
                                          Part 6 Myth: Immersive learning is active learning
                                       </div>
                                    </a>
                                 </div>
                           </div>
                        </div>
                     </nav>
            </footer>
      </article>




</main>
<footer class="footer 
footer--glued">
    <div class="wrapper">
        
            <div class="footer__copyright">
                <p>Copyright 2025 Heather Dodds<br>Powered by Publii</p>
            </div>

        
            <button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top">
                <svg width="20" height="20">
                    <use xlink:href="https://hobbs-hobbler.github.io/hobbs.blog/assets/svg/svg-map.svg#toparrow"/>
                </svg>
            </button>
    </div>
</footer>

<script defer src="https://hobbs-hobbler.github.io/hobbs.blog/assets/js/scripts.min.js?v=700105c316933a8202041b6415abb233"></script>

<script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script>

    <script>        
        var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }
    </script>



<!-- Start main cookie container -->
<div 
    class="pcb"
    data-behaviour="badge"
    data-behaviour-link="#cookie-settings"
    data-revision="1"
    data-config-ttl="90"
    data-debug-mode="false">
    <!-- Start Banner -->
    <div 
        role="dialog" 
        aria-modal="true" 
        aria-hidden="true" 
        aria-labelledby="pcb-title" 
        aria-describedby="pcb-txt" 
        class="pcb__banner ">
        <div class="pcb__inner">
            <div 
                id="pcb-title" 
                role="heading" 
                aria-level="2" 
                class="pcb__title">
                Cookies
            </div>
            <div 
                id="pcb-txt" 
                class="pcb__txt">
                This website might use hidden cookies to ensure you get the best experience. I encourage you to select Reject. To understand more about my privacy stance, read
                <a href="https://hobbs-hobbler.github.io/hobbs.blog/my-privacy-policy.html">My Privacy Policy</a>
            </div>
          
            <div class="pcb__buttons">
                
                <button 
                    type="button" 
                    class="pcb__btn pcb__btn--link pcb__btn--configure" 
                    aria-haspopup="dialog">
                    Manage preferences
                </button>
                
                
                <button 
                    type="button" 
                    class="pcb__btn pcb__btn--reject">
                    Reject
                </button>
                
                <button 
                    type="button" 
                    class="pcb__btn pcb__btn--solid pcb__btn--accept">
                    Accept
                </button>
            </div>
        </div>
    </div>
    <!-- End of Banner -->

    
    <!-- Start Popup -->
    <div 
        class="pcb__popup" 
        role="dialog" 
        aria-modal="true" 
        aria-hidden="true" 
        aria-labelledby="pcb-popup-title">
        <div class="pcb__popup__wrapper">
            <div class="pcb__inner pcb__popup__inner">
                <div class="pcb__popup__heading">
                    <div 
                        id="pcb-popup-title" 
                        role="heading" 
                        aria-level="2"
                        class="pcb__title">
                        Cookie settings
                    </div>
                    <button class="pcb__popup__close" aria-label="Close"></button>
                </div>
             
                <div class="pcb__popup__content">
                    <div class="pcb__txt pcb__popup__txt">
                        We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic (<- this is default language). By clicking "Accept All", you consent to my use of cookies.

                        
                        <a href="https://hobbs-hobbler.github.io/hobbs.blog/my-privacy-policy.html">My Privacy Policy</a>
                        
                    </div>
                
                    <ul class="pcb__groups">
                        <li class="pcb__group">
                    <details>
                        <summary class="pcb__group__title no-desc">
                            Required
                        </summary>
                        
                    </details>
                    <div class="pcb__popup__switch is-checked">
                        <input 
                            type="checkbox" 
                            data-group-name=""
                            id="pcb-group-0" 
                            checked>
                        <label for="pcb-group-0">Required</label>
                    </div>
                </li>
                    </ul>
                </div>

                <div class="pcb__buttons pcb__popup__buttons">
                    <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button>
                    <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button>
                    <button type="button" class="pcb__btn pcb__btn--save">Save settings</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Popup -->
    <!-- Overlay -->
    <div class="pcb__overlay" aria-hidden="true"></div>
    <!-- End of Overlay -->
    

    
    <!-- Badge -->
    <button 
        class="pcb__badge" 
        aria-label="Cookie Policy"
        aria-hidden="true">
        <svg 
            xmlns="http://www.w3.org/2000/svg" 
            aria-hidden="true" 
            focusable="false" 
            width="40" 
            height="40" 
            viewBox="0 0 23 23" 
            fill="currentColor">
            <path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z" />
        </svg>
    </button>
    <!-- End of Badge -->
    
</div>
<!-- End of main cookie container -->

        <script>
            
            (function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);

        </script>
</body>
</html>
